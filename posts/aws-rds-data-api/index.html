<!doctype html><html lang=en><head><title>AWS RDS Data API and CloudTrail. Who drop the table? · Vladimir Samoylov</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta http-equiv=content-security-policy content="upgrade-insecure-requests; block-all-mixed-content; default-src 'self'; child-src 'self'; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net/; form-action 'self'; frame-src 'self'; img-src 'self' https://cdnjs.cloudflare.com/ajax/libs/photoswipe/; object-src 'none'; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net/ https://cdnjs.cloudflare.com/ajax/libs/photoswipe/; script-src 'self' 'unsafe-inline' https://code.jquery.com/ https://cdnjs.cloudflare.com/ajax/libs/photoswipe/ https://twemoji.maxcdn.com https://static.cloudflareinsights.com/; prefetch-src 'self'; connect-src 'self';"><meta name=author content="Vladimir Samoylov"><meta name=description content="Introduction Link to heading Amazon Web Services (AWS) continually innovates to enhance user experience and efficiency. A prime example of this is the recent update to the RDS Data API, particularly for Amazon Aurora PostgreSQL-Compatible Edition. This update is a game-changer, as it offers users the ability to access Aurora clusters via a secure HTTP endpoint. The key here is the removal of rate limits and the elimination of the need for database drivers and managing connections."><meta name=keywords content="devops,k8s,aws,terraform,cloud,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="AWS RDS Data API and CloudTrail. Who drop the table?"><meta name=twitter:description content="Introduction Link to heading Amazon Web Services (AWS) continually innovates to enhance user experience and efficiency. A prime example of this is the recent update to the RDS Data API, particularly for Amazon Aurora PostgreSQL-Compatible Edition. This update is a game-changer, as it offers users the ability to access Aurora clusters via a secure HTTP endpoint. The key here is the removal of rate limits and the elimination of the need for database drivers and managing connections."><meta property="og:title" content="AWS RDS Data API and CloudTrail. Who drop the table?"><meta property="og:description" content="Introduction Link to heading Amazon Web Services (AWS) continually innovates to enhance user experience and efficiency. A prime example of this is the recent update to the RDS Data API, particularly for Amazon Aurora PostgreSQL-Compatible Edition. This update is a game-changer, as it offers users the ability to access Aurora clusters via a secure HTTP endpoint. The key here is the removal of rate limits and the elimination of the need for database drivers and managing connections."><meta property="og:type" content="article"><meta property="og:url" content="https://cageyv.dev/posts/aws-rds-data-api/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-01-04T00:00:00+00:00"><meta property="article:modified_time" content="2024-01-04T00:00:00+00:00"><meta property="og:see_also" content="https://cageyv.dev/posts/aws-mvp-postgresql/"><meta property="og:see_also" content="https://cageyv.dev/posts/aws-static-hosting/"><meta property="og:see_also" content="https://cageyv.dev/posts/aws-solutions-architect-professional/"><meta property="og:see_also" content="https://cageyv.dev/posts/aws-cloudgaming/"><meta property="og:see_also" content="https://cageyv.dev/posts/aws-vault/"><link rel=canonical href=https://cageyv.dev/posts/aws-rds-data-api/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.e1bdf152d93b060b06ba5d496486ed9c201a8b95d335e035beb5faebe3b61cad.css integrity="sha256-4b3xUtk7BgsGul1JZIbtnCAai5XTNeA1vrX66+O2HK0=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/extender.min.dd1bfc7c760f0f4622751e65a9b0ac7977915e70a1cf2faf42784bfbe851c4a1.css integrity="sha256-3Rv8fHYPD0YidR5lqbCseXeRXnChzy+vQnhL++hRxKE=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Vladimir Samoylov</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/experience/>Experience</a></li><li class=navigation-item><a class=navigation-link href=/projects/>Projects</a></li><li class=navigation-item><a class=navigation-link href=/education/>Education</a></li><li class=navigation-item><a class=navigation-link href=/recommend/>Recommend</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://cageyv.dev/posts/aws-rds-data-api/>AWS RDS Data API and CloudTrail. Who drop the table?</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2024-01-04T00:00:00Z>January 4, 2024</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
3-minute read</span></div><div class=categories><i class="fa fa-folder" aria-hidden=true></i>
<a href=/categories/aws/>aws</a></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/aws/>aws</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/cloudtrail/>cloudtrail</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/slack/>slack</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/rds/>rds</a></span></div></div></header><div class=post-content><h2 id=introduction>Introduction
<a class=heading-link href=#introduction><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Amazon Web Services (AWS) continually innovates to enhance user experience and efficiency. A prime example of this is the recent update to the RDS Data API, particularly for Amazon Aurora PostgreSQL-Compatible Edition. This update is a game-changer, as it offers users the ability to access Aurora clusters via a secure HTTP endpoint. The key here is the removal of rate limits and the elimination of the need for database drivers and managing connections.</p><p><img src=/images/posts/aws_rds_data_api/image1.webp alt="Alt text"></p><h2 id=main-features-of-the-redesigned-data-api>Main Features of the Redesigned Data API
<a class=heading-link href=#main-features-of-the-redesigned-data-api><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>The redesigned Data API is not just an incremental update; it&rsquo;s a significant overhaul aimed at scalability and ease of use. Here&rsquo;s what you need to know:</p><ul><li><strong>No More Rate Limits</strong>: Initially available for single instance Aurora Serverless v1 clusters with a 1,000 RPS rate limit, the API now imposes no rate limits for ASv2 and Aurora provisioned clusters.</li><li><strong>Enhanced Scalability and Efficiency</strong>: The API has been redesigned for increased scalability, supporting a wider range of database clusters.</li><li><strong>Connection Pooling</strong>: One of the most significant benefits is the automatic pooling and sharing of database connections, greatly simplifying application scalability.</li><li><strong>Backward Compatibility</strong>: For those already using Data API for ASv1, the transition will be smooth thanks to backward-compatible commands.</li></ul><h2 id=aws-cloudtrail-integration-a-leap-in-security-and-accountability>AWS CloudTrail Integration: A Leap in Security and Accountability
<a class=heading-link href=#aws-cloudtrail-integration-a-leap-in-security-and-accountability><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Integrating the RDS Data API with AWS CloudTrail marks a significant step in database security and operational transparency. CloudTrail captures all API calls as events, including the identity of the API caller, the time of the API call, the source IP address of the API caller, and more.
And this is a very important part. By using CloudTrail we could get information about who, when and from where executed SQL command.
Could you imagine that you could get information about who execute <code>DROP TABLE money_transfers</code> in a mitutes and without aditional tools?
Also CloudTrail is well integrated with GuardDuty, which is a threat detection service that continuously monitors for malicious activity and unauthorized behavior to protect your AWS accounts and workloads.</p><h2 id=setting-up-cloudtrail-with-rds-data-api-and-slack-notifications>Setting Up CloudTrail with RDS Data API and Slack Notifications
<a class=heading-link href=#setting-up-cloudtrail-with-rds-data-api-and-slack-notifications><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Setting up CloudTrail with the RDS Data API and configuring Slack notifications is straightforward. This setup allows you to receive instant updates on your database operations, enhancing your monitoring and response capabilities. For example, you could use <a href=/posts/aws-cloudtrail-to-slack>cloudtrail-to-slack</a> Terraform Module or any other tool to receive notifications.</p><h2 id=todo-list>ToDo List
<a class=heading-link href=#todo-list><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><ul><li>Enable the RDS Data API for your Aurora Cluster</li><li>Ensure CloudTrail is enabled for your AWS account (if it isn&rsquo;t already).</li><li>Setup Slack notifications for CloudTrail events</li><li>Use the RDS Data API to execute SQL commands</li><li>Surprise your team by sending them their SQL commands</li></ul><h2 id=what-else-we-could-do>What else we could do?
<a class=heading-link href=#what-else-we-could-do><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Combined with Just in Time (Elevated Access), this could be the best way to manage your database access.
You could allow to execute SQL commands only for specific period of time and only for specific users.</p><h2 id=references>References
<a class=heading-link href=#references><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><ul><li><a href=https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/data-api.html class=external-link target=_blank rel=noopener>Using RDS Data API</a></li><li><a href=https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/logging-using-cloudtrail-data-api.html class=external-link target=_blank rel=noopener>Logging RDS Data API calls with AWS CloudTrail</a></li></ul></div><footer><section class=see-also><h3 id=see-also-in-aws>See also in AWS
<a class=heading-link href=#see-also-in-aws><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><nav><ul><li><a href=/posts/aws-mvp-postgresql/>MVP on AWS: PostgreSQL</a></li><li><a href=/posts/aws-static-hosting/>The Multiverse of Hosting a Static HTML File on AWS</a></li><li><a href=/posts/aws-solutions-architect-professional/>Navigating the Path to AWS Solutions Architect Professional Certification</a></li><li><a href=/posts/aws-cloudgaming/>Where no Windows Machine? Luck of space? Travel a lot? Let's use AWS as is Cloud Gaming platform</a></li><li><a href=/posts/aws-vault/>Security Basics in AWS or How To Get Rid of Hardcoded Credential and Reduce Data Leakage Risks with aws-vault</a></li></ul></nav></section></footer></article></section></div><footer class=footer><section class=container>©
2019 -
2025
Vladimir Samoylov
·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script></body></html>